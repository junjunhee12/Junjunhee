<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>login Before MemberShip</title>
    <link rel="stylesheet" href="../CSS/main-header.css" />
    <link rel="stylesheet" href="../CSS/total.css" />
    <link rel="stylesheet" href="../CSS/membership.css" />
    <link rel="stylesheet" href="../CSS/Login.css" />
  </head>
  <body>
    <header>
      <div class="container">
        <h1>
          <a href="http://127.0.0.1:5501/index/HTML/page.html"> FTT </a>
        </h1>
        <div id="header-menu">
          <nav id="gnb">
            <ul>
              <li class="g-main">
                <a href="#" id="findMovie">검색</a>
              </li>
              <li class="g-main">
                <a href="#" class="login">멤버십</a>
              </li>
              <li class="g-main">
                <a href="#" class="login">로그인</a>
              </li>
            </ul>
          </nav>
          <nav id="lnb">
            <ul>
              <li class="l-main">
                <a href="http://127.0.0.1:5501/index/HTML/page.html">홈</a>
              </li>
              <li class="l-main">
                <a href="#" class="kategori">카테고리</a>
              </li>
              <li class="l-main">
                <a href="http://127.0.0.1:5501/index/HTML/agree.html"
                  >회원가입</a
                >
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </header>

    <div class="ms-container">
      <div class="ms-header">
        <h2>멤버십 가입하기</h2>
      </div>
      <div class="ms-body">
        <div class="ms-card-center">
          <div class="ms-card first">
            <h3>Premium</h3>
            <div class="line"></div>
            <a href="#" class="ms-card-ac">
              <p>1개월</p>
              <span>&#92; 1,200</span>
            </a>

            <a href="#" class="ms-card-ac">
              <p>12개월</p>
              <span>&#92; 12,000</span>
            </a>

            <div class="ms-card-box">
              <div class="ms-card-wrap">
                모바일/태블릿/PC
                <p>사용가능</p>
              </div>

              <div class="ms-card-wrap">
                TV
                <p>사용가능</p>
              </div>

              <div class="ms-card-wrap">
                화질
                <p>최고화질</p>
              </div>

              <div class="ms-card-wrap">
                동시시청
                <p>4명</p>
              </div>
            </div>
          </div>

          <div class="ms-card second">
            <h3>Standard</h3>
            <div class="line"></div>
            <a href="#" class="ms-card-ac">
              <p>1개월</p>
              <span>&#92; 800</span>
            </a>

            <a href="#" class="ms-card-ac">
              <p>12개월</p>
              <span>&#92; 8,000</span>
            </a>

            <div class="ms-card-box">
              <div class="ms-card-wrap">
                모바일/태블릿/PC
                <p>사용가능</p>
              </div>

              <div class="ms-card-wrap">
                TV
                <p>사용가능</p>
              </div>

              <div class="ms-card-wrap">
                화질
                <p>FHD화질</p>
              </div>

              <div class="ms-card-wrap">
                동시시청
                <p>2명</p>
              </div>
            </div>
          </div>

          <div class="ms-card thrid">
            <h3>Basic</h3>
            <div class="line"></div>
            <a href="#" class="ms-card-ac">
              <p>1개월</p>
              <span>&#92; 400</span>
            </a>

            <a href="#" class="ms-card-ac">
              <p>12개월</p>
              <span>&#92; 4,000</span>
            </a>

            <div class="ms-card-box">
              <div class="ms-card-wrap">
                모바일/태블릿/PC
                <p>사용가능</p>
              </div>

              <div class="ms-card-wrap">
                TV
                <p>X</p>
              </div>

              <div class="ms-card-wrap">
                화질
                <p>HD화질</p>
              </div>

              <div class="ms-card-wrap">
                동시시청
                <p>1명</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="ms-footer">
        <ul>
          서비스 이용 주의사항
          <li>
            FTT 서비스는 국내 및 해외 서비스 대상 국가에서 이용하실 수 있습니다.
          </li>
          <li>
            이용권 및 개별 구매 영화는 국내에서 결제 가능하고, 결제 후 해외
            서비스 대상국가에서 모바일/태블릿 앱으로 (ios/Android) 7일간 시청할
            수 있습니다.
          </li>
          <li>
            일부 콘텐츠는 콘텐츠 제공사의 요청으로 해외 서비스 대상 국가에서도
            이용이 불가합니다.
          </li>
          <li>해외 서비스 대상 국가에서는 다운로드를 제공하지 않습니다.</li>
          <li>
            해외 서비스 대상 국가 : 싱가폴, 인도네시아, 말레이시아, 필리핀,
            베트남, 라오스, 태국 해외 서비스 대상 국가가 아닌 국가에서는 서비스
            이용이 불가합니다.
          </li>
          <li>
            프리미엄 이용권은 동시에 4명, 스텐다드 이용권은 2명이 동시에 시청할
            수 있습니다.
          </li>
          <li>베이직 이용권은 1명만 시청할 수 있습니다.</li>
          <li>
            일부 콘텐츠는 콘텐츠 제공사의 요청으로 LIVE 및 VOD 서비스를 제공하지
            않을 수 있습니다.
          </li>
          <li>
            일부 콘텐츠는 콘텐츠 제공사의 요청으로 FHD 화질을 제공하지 않을 수
            있습니다.
          </li>
          <li>
            콘텐츠에 따라 다운로드를 제공하지 않을 수 있으며, 이용권에 따라
            다운로드 횟수가 제한됩니다.
          </li>
          <li>TV 기기에서는 다운로드가 불가합니다.</li>
          <li>
            프리미엄 이용권은 일부 콘텐츠를 최고화질(4K UHD, Dolby, HDR)로
            시청할 수 있습니다.
          </li>
          <li>
            최고화질은 이용하는 기기의 사양, 네트워크 환경 등에 따라 변경될 수
            있습니다.
          </li>
          <li>
            이용 기기 중 TV 는 FTT앱이 설치가 되어 있거나 앱스토어에서 설치가
            가능한 스마트TV 및 Android TV 기기이며, TV에서는 일부 채널은 LIVE
            서비스를 제공하지 않습니다.
          </li>
          <li>
            자세히보기 LG 스마트 TV 이외의 TV에서는 콘텐츠제공사의 요청으로 LIVE
            서비스를 제공하지 않습니다.
          </li>
          <li>
            구형 smart TV에서 DRM콘텐츠 재생이 종료됨에 따라 서비스가 제공되지
            않을 수 있습니다.
          </li>
        </ul>
      </div>
    </div>

    <!-- 로그인 시작 ------------------------------------------------------ -->
    <div class="modal-back">
      <div class="modal-page">
        <!-- legend 블럭요소 -->
        <div class="close-box">
          <div class="modal-close">
            <!-- <iconify-icon
              class="icon"
              icon="icon-park-solid:big-x"
            ></iconify-icon> -->X
          </div>
        </div>
        <div class="modal-header">로그인</div>
        <p id="come">FTT에 오신것을 환영합니다.</p>
        <table>
          <tr>
            <!-- <th>아이디</th> -->
            <td>
              <input
                class="click"
                type="text"
                id="loginId"
                name="id"
                placeholder="아이디: 10글자 이내"
              />
            </td>
            <!-- <td><input type="button" value="중복 확인" /></td> -->
          </tr>
          <tr>
            <!-- <th>비밀번호</th> -->
            <td>
              <input
                type="password"
                name="password"
                id="loginPw"
                placeholder="비밀번호: 영문,숫자,특수문자 포함 8자 이상"
              />
            </td>
          </tr>
        </table>
        <div class="modal-check">
          <input type="button" name="check" value="확인" class="login-go" />
          <!-- <input type="button" name="cancel" value="취소" /> -->
        </div>
        <div class="modal-find">
          <a href="http://127.0.0.1:5501/index/HTML/findId.html">아이디 찾기</a>
          <a href="http://127.0.0.1:5501/index/HTML/findId.html"
            >비밀번호 찾기</a
          >
          <a href="http://127.0.0.1:5501/index/HTML/agree.html">회원가입</a>
        </div>
        <ul class="modal-footer">
          <li>이용약관</li>
          <li>개인정보처리방침</li>
          <li>고객센터</li>
        </ul>
      </div>
    </div>
    <!-- 로그인 끝 -------------------------------------------------------- -->
  </body>
  <!-- <script src="../JS/logout.js"></script> -->
  <!-- <script src="../JS/buy.js"></script> -->
  <script src="../JS/Login.js"></script>
  <script src="../JS/loginBeforeMbs.js"></script>
  <script type="module">
    import * as firebase from "../JS/firebase.js";
    const {
      db,
      getDocs,
      collection,
      setDoc,
      addDoc,
      getDatas,
      doc,
      addDatas,
      deleteDatas,
      updateDatas,
      deleteField,
    } = firebase;

    const checkBtn = document.querySelector(".login-go");
    const id = document.querySelector("input[name = id]").value;
    const password = document.querySelector("input[name = password]").value;

    const kategori = document.querySelector(".kategori");

    kategori.addEventListener("click", () => {
      alert("로그인 해주세요");
      modalBack.style.display = "block";

      checkBtn.addEventListener("click", async function () {
        const snapshot = await getDatas("FTT");
        snapshot.forEach((doc) => {
          const { memberId, memberPassword } = doc.data();

          if (document.querySelector("input[name = id]").value == memberId) {
            console.log("1");
            if (
              document.querySelector("input[name = password]").value ==
              memberPassword
            ) {
              console.log("2");
              location.href = "http://127.0.0.1:5501/index/HTML/Kate.html";
            } else {
              alert("비밀번호를 다시 입력해주세요");
              console.log("3");
            }
          } else {
            console.log("먼저실행");
          }
        });
      });
    });

    checkBtn.addEventListener("click", async function () {
      const snapshot = await getDatas("FTT");
      snapshot.forEach((doc) => {
        const { memberId, memberPassword } = doc.data();

        if (document.querySelector("input[name = id]").value == memberId) {
          console.log("1");
          if (
            document.querySelector("input[name = password]").value ==
            memberPassword
          ) {
            console.log("2");
            location.href = "http://127.0.0.1:5501/index/HTML/membership.html";
          } else {
            alert("비밀번호를 다시 입력해주세요");
            console.log("3");
          }
        } else {
          console.log("먼저실행");
        }
      });
    });

    modalClose.addEventListener("click", function () {
      modalBack.style.display = "none";
    });

    document.addEventListener("DOMContentLoaded", function () {
      const header = document.querySelector("header");
      const scrollOffset = 10; // Adjust this value based on when you want the color change to occur

      window.addEventListener("scroll", function () {
        if (window.scrollY > scrollOffset) {
          header.classList.add("scrolled");
        } else {
          header.classList.remove("scrolled");
        }
      });
    });
  </script>
</html>
